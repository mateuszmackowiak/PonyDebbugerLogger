<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>DDAbstractDatabaseLogger Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 840)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">CocoaLumberjack 1.6.2 </a></h1>
				<a id="developerHome" href="../index.html">Robbie Hanson</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">DDAbstractDatabaseLogger Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/deleteInterval">&nbsp;&nbsp;&nbsp;&nbsp;deleteInterval</option>
	
	<option value="//api/name/deleteOnEverySave">&nbsp;&nbsp;&nbsp;&nbsp;deleteOnEverySave</option>
	
	<option value="//api/name/maxAge">&nbsp;&nbsp;&nbsp;&nbsp;maxAge</option>
	
	<option value="//api/name/saveInterval">&nbsp;&nbsp;&nbsp;&nbsp;saveInterval</option>
	
	<option value="//api/name/saveThreshold">&nbsp;&nbsp;&nbsp;&nbsp;saveThreshold</option>
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/deleteOldLogEntries">&nbsp;&nbsp;&nbsp;&nbsp;- deleteOldLogEntries</option>
	
	<option value="//api/name/savePendingLogEntries">&nbsp;&nbsp;&nbsp;&nbsp;- savePendingLogEntries</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteInterval">deleteInterval</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteOnEverySave">deleteOnEverySave</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/maxAge">maxAge</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/saveInterval">saveInterval</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/saveThreshold">saveThreshold</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteOldLogEntries">deleteOldLogEntries</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/savePendingLogEntries">savePendingLogEntries</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="DDAbstractDatabaseLogger Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">DDAbstractDatabaseLogger Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value"><a href="../Classes/DDAbstractLogger.html">DDAbstractLogger</a> : NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">DDAbstractDatabaseLogger.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>Welcome to Cocoa Lumberjack!</p>

<p>The project page has a wealth of documentation if you have any questions.
<a href="https://github.com/robbiehanson/CocoaLumberjack">https://github.com/robbiehanson/CocoaLumberjack</a></p>

<p>If you&rsquo;re new to the project you may wish to read the &ldquo;Getting Started&rdquo; wiki.
<a href="https://github.com/robbiehanson/CocoaLumberjack/wiki/GettingStarted">https://github.com/robbiehanson/CocoaLumberjack/wiki/GettingStarted</a></p>

<p>This class provides an abstract implementation of a database logger.</p>

<p>That is, it provides the base implementation for a database logger to build atop of.
All that is needed for a concrete database logger is to extend this class
and override the methods in the implementation file that are prefixed with &ldquo;db_&rdquo;.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/saveThreshold">&nbsp;&nbsp;saveThreshold</a></code>
		<span class="tooltip"><p>Specifies how often to save the data to disk.
Since saving is an expensive operation (disk io) it is not done after every log statement.
These properties allow you to configure how/when the logger saves to disk.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/saveInterval">&nbsp;&nbsp;saveInterval</a></code>
		
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/maxAge">&nbsp;&nbsp;maxAge</a></code>
		<span class="tooltip"><p>It is likely you don&rsquo;t want the log entries to persist forever.
Doing so would allow the database to grow infinitely large over time.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteInterval">&nbsp;&nbsp;deleteInterval</a></code>
		
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteOnEverySave">&nbsp;&nbsp;deleteOnEverySave</a></code>
		
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/savePendingLogEntries">&ndash;&nbsp;savePendingLogEntries</a></code>
		<span class="tooltip"><p>Forces a save of any pending log entries (flushes log entries to disk).</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteOldLogEntries">&ndash;&nbsp;deleteOldLogEntries</a></code>
		<span class="tooltip"><p>Removes any log entries that are older than <a href="#//api/name/maxAge">maxAge</a>.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/deleteInterval" title="deleteInterval"></a>
	<h3 class="subsubtitle method-title">deleteInterval</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (assign, readwrite) NSTimeInterval deleteInterval</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/deleteOnEverySave" title="deleteOnEverySave"></a>
	<h3 class="subsubtitle method-title">deleteOnEverySave</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (assign, readwrite) BOOL deleteOnEverySave</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/maxAge" title="maxAge"></a>
	<h3 class="subsubtitle method-title">maxAge</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>It is likely you don&rsquo;t want the log entries to persist forever.
Doing so would allow the database to grow infinitely large over time.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign, readwrite) NSTimeInterval maxAge</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>It is likely you don&rsquo;t want the log entries to persist forever.
Doing so would allow the database to grow infinitely large over time.</p>

<p>The maxAge property provides a way to specify how old a log statement can get
before it should get deleted from the database.</p>

<p>The <a href="#//api/name/deleteInterval">deleteInterval</a> specifies how often to sweep for old log entries.
Since deleting is an expensive operation (disk io) is is done on a fixed interval.</p>

<p>An alternative to the <a href="#//api/name/deleteInterval">deleteInterval</a> is the <a href="#//api/name/deleteOnEverySave">deleteOnEverySave</a> option.
This specifies that old log entries should be deleted during every save operation.</p>

<p>You can optionally disable the maxAge by setting it to zero (or a negative value).
If you disable the maxAge then old log statements are not deleted.</p>

<p>You can optionally disable the <a href="#//api/name/deleteInterval">deleteInterval</a> by setting it to zero (or a negative value).</p>

<p>If you disable both <a href="#//api/name/deleteInterval">deleteInterval</a> and <a href="#//api/name/deleteOnEverySave">deleteOnEverySave</a> then old log statements are not deleted.</p>

<p>It&rsquo;s not wise to enable both <a href="#//api/name/deleteInterval">deleteInterval</a> and <a href="#//api/name/deleteOnEverySave">deleteOnEverySave</a>.</p>

<p>The default maxAge is 7 days.
The default <a href="#//api/name/deleteInterval">deleteInterval</a> is 5 minutes.
The default <a href="#//api/name/deleteOnEverySave">deleteOnEverySave</a> is NO.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">DDAbstractDatabaseLogger.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/saveInterval" title="saveInterval"></a>
	<h3 class="subsubtitle method-title">saveInterval</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (assign, readwrite) NSTimeInterval saveInterval</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/saveThreshold" title="saveThreshold"></a>
	<h3 class="subsubtitle method-title">saveThreshold</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Specifies how often to save the data to disk.
Since saving is an expensive operation (disk io) it is not done after every log statement.
These properties allow you to configure how/when the logger saves to disk.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (assign, readwrite) NSUInteger saveThreshold</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Specifies how often to save the data to disk.
Since saving is an expensive operation (disk io) it is not done after every log statement.
These properties allow you to configure how/when the logger saves to disk.</p>

<p>A save is done when either (whichever happens first):</p>

<ul>
<li>The number of unsaved log entries reaches saveThreshold</li>
<li>The amount of time since the oldest unsaved log entry was created reaches <a href="#//api/name/saveInterval">saveInterval</a></li>
</ul>


<p>You can optionally disable the saveThreshold by setting it to zero.
If you disable the saveThreshold you are entirely dependent on the <a href="#//api/name/saveInterval">saveInterval</a>.</p>

<p>You can optionally disable the <a href="#//api/name/saveInterval">saveInterval</a> by setting it to zero (or a negative value).
If you disable the <a href="#//api/name/saveInterval">saveInterval</a> you are entirely dependent on the saveThreshold.</p>

<p>It&rsquo;s not wise to disable both saveThreshold and <a href="#//api/name/saveInterval">saveInterval</a>.</p>

<p>The default saveThreshold is 500.
The default <a href="#//api/name/saveInterval">saveInterval</a> is 60 seconds.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">DDAbstractDatabaseLogger.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/deleteOldLogEntries" title="deleteOldLogEntries"></a>
	<h3 class="subsubtitle method-title">deleteOldLogEntries</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Removes any log entries that are older than <a href="#//api/name/maxAge">maxAge</a>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)deleteOldLogEntries</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Removes any log entries that are older than <a href="#//api/name/maxAge">maxAge</a>.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">DDAbstractDatabaseLogger.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/savePendingLogEntries" title="savePendingLogEntries"></a>
	<h3 class="subsubtitle method-title">savePendingLogEntries</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Forces a save of any pending log entries (flushes log entries to disk).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)savePendingLogEntries</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Forces a save of any pending log entries (flushes log entries to disk).</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">DDAbstractDatabaseLogger.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Robbie Hanson. All rights reserved. (Last updated: 2013-08-20)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>